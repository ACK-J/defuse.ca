<h1>"Privacy Aware" Unique Hit Counter for PHP</h1>
<p>This PHP Class provides a hit counter that is able to track unique hits without recording the visitor's IP address in the database. It does so by recording the hash of the IP address and page name.</p>

<p>By hashing the IP address with page name as salt, you prevent yourself from being able to track a user as they navigate your site. You also prevent yourself from being able to recover anyone's IP address without brute forcing the 2<sup>32</sup> possible IP addresses. In the case of IPv6, it becomes 2<sup>128</sup>.</p>

<p>It is designed to be secure against SQL injection attacks. It is VERY easy to use; documentation is in the source file. It is licensed under the GNU GPL v3 so you cannot use this code in proprietary software.</p>
<p><a href="/source/phpcount.php.txt">Download PHP Hit Counter Source Code</a></p>

<div style="font-family:monospace; background-color:#000000; color: #c0c0c0; padding: 10px; border: inset 3px silver;">
<font face="monospace">
<span style="background-color: #000000"><font color="#008888">&nbsp;&nbsp;1 </font></span><span style="background-color: #000000"><font color="#ffffff">&lt;?php</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;&nbsp;2 </font></span><font color="#696969">/*</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;&nbsp;3 </font></span><font color="#696969">&nbsp;* phpcount.php Ver.1.0- Provides a MySQL-based &quot;Anonymous&quot; hit counter.</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;&nbsp;4 </font></span><font color="#696969">&nbsp;* Copyright (C) 2011&nbsp;&nbsp;FireXware (firexware@gmail.com)</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;&nbsp;5 </font></span><font color="#696969">&nbsp;* </font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;&nbsp;6 </font></span><font color="#696969">&nbsp;* This program is free software: you can redistribute it and/or modify</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;&nbsp;7 </font></span><font color="#696969">&nbsp;* it under the terms of the GNU General Public License as published by</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;&nbsp;8 </font></span><font color="#696969">&nbsp;* the Free Software Foundation, either version 3 of the License, or</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;&nbsp;9 </font></span><font color="#696969">&nbsp;* (at your option) any later version.</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;10 </font></span><font color="#696969">&nbsp;* </font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;11 </font></span><font color="#696969">&nbsp;* This program is distributed in the hope that it will be useful,</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;12 </font></span><font color="#696969">&nbsp;* but WITHOUT ANY WARRANTY; without even the implied warranty of</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;13 </font></span><font color="#696969">&nbsp;* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.&nbsp;&nbsp;See the</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;14 </font></span><font color="#696969">&nbsp;* GNU General Public License for more details.</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;15 </font></span><font color="#696969">&nbsp;* </font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;16 </font></span><font color="#696969">&nbsp;* You should have received a copy of the GNU General Public License</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;17 </font></span><font color="#696969">&nbsp;* along with this program.&nbsp;&nbsp;If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;18 </font></span><font color="#696969">*/</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;19 </font></span><font color="#696969">//==============================================================================</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;20 </font></span><font color="#696969">/*</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;21 </font></span><font color="#696969">&nbsp;* This PHP Class provides a hit counter that is able to track unique hits</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;22 </font></span><font color="#696969">&nbsp;* without recording the visitor's IP address in the database. It does so by </font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;23 </font></span><font color="#696969">&nbsp;* recording the hash of the IP address and page name.</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;24 </font></span><font color="#696969">&nbsp;*</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;25 </font></span><font color="#696969">&nbsp;* By hashing the IP address with page name as salt, you prevent yourself from</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;26 </font></span><font color="#696969">&nbsp;* being able to track a user as they navigate your site. You also prevent </font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;27 </font></span><font color="#696969">&nbsp;* yourself from being able to recover anyone's IP address without brute forcing</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;28 </font></span><font color="#696969">&nbsp;* the 2^32 possible IP addresses. In the case of IPv6, it becomes 2^128.</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;29 </font></span><font color="#696969">&nbsp;*</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;30 </font></span><font color="#696969">&nbsp;* Contact: firexware@gmail.com</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;31 </font></span><font color="#696969">&nbsp;* WWW:&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://ossbox.com/">http://ossbox.com/</a></font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;32 </font></span><font color="#696969">&nbsp;*</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;33 </font></span><font color="#696969">&nbsp;* USAGE:</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;34 </font></span><font color="#696969">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In your script, use reqire_once() to import this script, then call the</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;35 </font></span><font color="#696969">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions like PHPCount::AddHit(...); See each function for help.</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;36 </font></span><font color="#696969">&nbsp;*/</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;37 </font></span>&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;38 </font></span><font color="#696969">//This defines how many seconds a hit should be rememberd for. This prevents the</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;39 </font></span><font color="#696969">//database from perpetually increasing in size. One month (the default) should </font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;40 </font></span><font color="#696969">//be adequate. If someone visits a page and comes back in a month, I think that</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;41 </font></span><font color="#696969">//should count as another unique hit.</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;42 </font></span><span style="background-color: #000000"><font color="#00ffff">define</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">HIT_OLD_AFTER_SECONDS</font>&quot;, <font color="#00ffff">4</font>&nbsp;<font color="#696969">*</font>&nbsp;<font color="#00ffff">7</font>&nbsp;<font color="#696969">*</font>&nbsp;<font color="#00ffff">24</font>&nbsp;<font color="#696969">*</font>&nbsp;<font color="#00ffff">3600</font><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;43 </font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;44 </font></span><font color="#696969">// MySQL Login and Database Information</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;45 </font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">dbserver</font></span>&nbsp;<font color="#696969">=</font>&nbsp;&quot;<font color="#00bbbb">localhost</font>&quot;;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;46 </font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">username</font></span>&nbsp;<font color="#696969">=</font>&nbsp;&quot;<font color="#00bbbb">phpcount</font>&quot;;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;47 </font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">password</font></span>&nbsp;<font color="#696969">=</font>&nbsp;&quot;<font color="#00bbbb">FILL ME IN</font>&quot;;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;48 </font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">database</font></span>&nbsp;<font color="#696969">=</font>&nbsp;&quot;<font color="#00bbbb">phpcount</font>&quot;;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;49 </font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;50 </font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_connect</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">dbserver</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">username</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">password</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;51 </font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;52 </font></span><font color="#00ffff"><b>if</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">!</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;53 </font></span><span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;54 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>die</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">Count not connect to PHPCount MySQL server!</font>&quot;<span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;55 </font></span><span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;56 </font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;57 </font></span><span style="background-color: #000000"><font color="#00ffff">mysql_select_db</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">database</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>&nbsp;<font color="#696969">or</font>&nbsp;<font color="#00ffff"><b>die</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">Count not select PHPCount database.</font>&quot;<span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;58 </font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;59 </font></span><font color="#ffffff">class</font>&nbsp;PHPCount<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;60 </font></span><span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;61 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">/*</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;62 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * AddHit(&lt;page identifier&gt;, &lt;visitor identifier&gt;)</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;63 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * Adds a hit. Takes care of checking uniqueness.</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;64 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * $pageID - A unique string that identifies the page</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;65 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * $visitorID - A unique string that represents the visitor (IP address)</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;66 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; *</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;67 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * For example, on a page called coolstuff.php...</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;68 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PHPCount::(&quot;coolstuff&quot;, $_SERVER['REMOTE_ADDR']);</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;69 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; */</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;70 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">public</font>&nbsp;<font color="#ffffff">static</font>&nbsp;<font color="#ffffff">function</font>&nbsp;AddHit<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">visitorID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;71 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;72 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">self</font><font color="#696969">::</font>Cleanup<span style="background-color: #000000"><font color="#ffffff">()</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;73 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">self</font><font color="#696969">::</font>CreateCountsIfNotPresent<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;74 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>if</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#ffffff">self</font><font color="#696969">::</font>UniqueHit<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">visitorID</font></span><span style="background-color: #000000"><font color="#ffffff">))</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;75 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;76 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">self</font><font color="#696969">::</font>CountHit<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#00ffff">true</font><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;77 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">self</font><font color="#696969">::</font>LogHit<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">visitorID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;78 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;79 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">self</font><font color="#696969">::</font>CountHit<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#00ffff">false</font><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;80 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;81 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;82 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">/*</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;83 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * Returns (int) the amount of hits a page has</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;84 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * $pageID - the page identifier</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;85 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * $unique - true if you want unique hit count</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;86 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; */</font><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;87 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">public</font>&nbsp;<font color="#ffffff">static</font>&nbsp;<font color="#ffffff">function</font>&nbsp;GetHits<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<font color="#00ffff">false</font><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;88 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;89 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">global</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;90 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">self</font><font color="#696969">::</font>CreateCountsIfNotPresent<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;91 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;92 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_real_escape_string</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;93 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span>&nbsp;<font color="#696969">?</font>&nbsp;'<font color="#00bbbb">1</font>'&nbsp;<font color="#696969">:</font>&nbsp;'<font color="#00bbbb">0</font>';<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;94 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">SELECT hitcount FROM hits WHERE pageid='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><font color="#00bbbb">' AND isunique='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span><font color="#00bbbb">'</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;95 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>if</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span><span style="background-color: #000000"><font color="#00ffff">mysql_num_rows</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>&nbsp;<font color="#00ffff"><b>&gt;=</b></font>&nbsp;<font color="#00ffff">1</font><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;96 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">&nbsp;97 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">hitInfo</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_fetch_array</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;98 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>return</b></font>&nbsp;<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#ffffff">int</font><span style="background-color: #000000"><font color="#ffffff">)</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">hitInfo</font></span><span style="background-color: #000000"><font color="#ffffff">[</font></span>'<font color="#00bbbb">hitcount</font>'<span style="background-color: #000000"><font color="#ffffff">]</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">&nbsp;99 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">100 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>else</b></font><br />
<span style="background-color: #000000"><font color="#008888">101 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">102 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>die</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">Fatal: Missing hit count from database!</font>&quot;<span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">103 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">104 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">105 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">106 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">/*</font><br />
<span style="background-color: #000000"><font color="#008888">107 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * Returns the total amount of hits to the entire website</font><br />
<span style="background-color: #000000"><font color="#008888">108 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * When $unique is FALSE, it returns the sum of all non-unique hit counts</font><br />
<span style="background-color: #000000"><font color="#008888">109 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * for every page. When $unique is TRUE, it returns the sum of all unique</font><br />
<span style="background-color: #000000"><font color="#008888">110 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * hit counts for every page, so the value that's returned IS NOT the </font><br />
<span style="background-color: #000000"><font color="#008888">111 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * amount of site-wide unique hits, it is the sum of each page's unique</font><br />
<span style="background-color: #000000"><font color="#008888">112 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; * hit count.</font><br />
<span style="background-color: #000000"><font color="#008888">113 </font></span><font color="#696969">&nbsp;&nbsp;&nbsp;&nbsp; */</font><br />
<span style="background-color: #000000"><font color="#008888">114 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">public</font>&nbsp;<font color="#ffffff">static</font>&nbsp;<font color="#ffffff">function</font>&nbsp;GetTotalHits<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<font color="#00ffff">false</font><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">115 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">116 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">global</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">117 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">total</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<font color="#00ffff">0</font>;<br />
<span style="background-color: #000000"><font color="#008888">118 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span>&nbsp;<font color="#696969">?</font>&nbsp;'<font color="#00bbbb">1</font>'&nbsp;<font color="#696969">:</font>&nbsp;'<font color="#00bbbb">0</font>';<br />
<span style="background-color: #000000"><font color="#008888">119 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">SELECT hitcount FROM hits WHERE isunique='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span><font color="#00bbbb">'</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">120 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>while</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span>&nbsp;<font color="#696969">&amp;&amp;</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">info</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_fetch_array</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span><span style="background-color: #000000"><font color="#ffffff">))</font></span><br />
<span style="background-color: #000000"><font color="#008888">121 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">122 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">total</font></span>&nbsp;<font color="#696969">+=</font>&nbsp;<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#ffffff">int</font><span style="background-color: #000000"><font color="#ffffff">)</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">info</font></span><span style="background-color: #000000"><font color="#ffffff">[</font></span>'<font color="#00bbbb">hitcount</font>'<span style="background-color: #000000"><font color="#ffffff">]</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">123 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">124 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>return</b></font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">total</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">125 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">126 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">127 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">/*====================== PRIVATE METHODS =============================*/</font><br />
<span style="background-color: #000000"><font color="#008888">128 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">129 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">private</font>&nbsp;<font color="#ffffff">static</font>&nbsp;<font color="#ffffff">function</font>&nbsp;UniqueHit<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">visitorID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">130 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">131 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">global</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">132 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">ids_hash</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<font color="#ffffff">self</font><font color="#696969">::</font>IDHash<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">visitorID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">133 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">SELECT time FROM nodupes WHERE ids_hash='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">ids_hash</font></span><font color="#00bbbb">'</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">134 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>if</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span><span style="background-color: #000000"><font color="#00ffff">mysql_num_rows</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>&nbsp;<font color="#00ffff"><b>&gt;</b></font>&nbsp;<font color="#00ffff">0</font><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">135 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">136 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">hitInfo</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_fetch_array</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">137 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>if</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">hitInfo</font></span><span style="background-color: #000000"><font color="#ffffff">[</font></span>'<font color="#00bbbb">time</font>'<span style="background-color: #000000"><font color="#ffffff">]</font></span>&nbsp;<font color="#00ffff"><b>&gt;</b></font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">time</font></span><span style="background-color: #000000"><font color="#ffffff">()</font></span>&nbsp;<font color="#696969">-</font>&nbsp;HIT_OLD_AFTER_SECONDS<span style="background-color: #000000"><font color="#ffffff">)</font></span>&nbsp;<font color="#696969">//</font><span style="background-color: #000000"><font color="#ff0000">TODO</font></span><font color="#696969">: constant-ize</font><br />
<span style="background-color: #000000"><font color="#008888">138 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">139 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>return</b></font>&nbsp;<font color="#00ffff">false</font>;<br />
<span style="background-color: #000000"><font color="#008888">140 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">141 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>else</b></font><br />
<span style="background-color: #000000"><font color="#008888">142 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">143 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>return</b></font>&nbsp;<font color="#00ffff">true</font>;<br />
<span style="background-color: #000000"><font color="#008888">144 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">145 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">146 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>else</b></font><br />
<span style="background-color: #000000"><font color="#008888">147 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">148 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>return</b></font>&nbsp;<font color="#00ffff">true</font>;<br />
<span style="background-color: #000000"><font color="#008888">149 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">150 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">151 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">152 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">private</font>&nbsp;<font color="#ffffff">static</font>&nbsp;<font color="#ffffff">function</font>&nbsp;LogHit<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">visitorID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">153 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">154 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">global</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">155 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">ids_hash</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<font color="#ffffff">self</font><font color="#696969">::</font>IDHash<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">visitorID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">156 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">SELECT time FROM nodupes WHERE ids_hash='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">ids_hash</font></span><font color="#00bbbb">'</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">157 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">curTime</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">time</font></span><span style="background-color: #000000"><font color="#ffffff">()</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">158 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>if</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span><span style="background-color: #000000"><font color="#00ffff">mysql_num_rows</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>&nbsp;<font color="#00ffff"><b>&gt;</b></font>&nbsp;<font color="#00ffff">0</font><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">159 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">160 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">UPDATE nodupes SET time='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">curTime</font></span><font color="#00bbbb">' WHERE ids_hash='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">ids_hash</font></span><font color="#00bbbb">'</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">161 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">162 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>else</b></font><br />
<span style="background-color: #000000"><font color="#008888">163 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">164 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">INSERT INTO nodupes (ids_hash, time) VALUES('</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">ids_hash</font></span><font color="#00bbbb">', '</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">curTime</font></span><font color="#00bbbb">')</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">165 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">166 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">167 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">168 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">private</font>&nbsp;<font color="#ffffff">static</font>&nbsp;<font color="#ffffff">function</font>&nbsp;CountHit<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">169 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">170 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">global</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">171 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span>&nbsp;<font color="#696969">?</font>&nbsp;'<font color="#00bbbb">1</font>'&nbsp;<font color="#696969">:</font>&nbsp;'<font color="#00bbbb">0</font>';<br />
<span style="background-color: #000000"><font color="#008888">172 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">safeID</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_real_escape_string</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">173 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">UPDATE hits SET hitcount = hitcount + 1 WHERE pageid='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">safeID</font></span><font color="#00bbbb">' AND isunique='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">unique</font></span><font color="#00bbbb">'</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">174 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">175 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">176 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">private</font>&nbsp;<font color="#ffffff">static</font>&nbsp;<font color="#ffffff">function</font>&nbsp;IDHash<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">visitorID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">177 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">178 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">ids_hash</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_real_escape_string</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>hash<span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">SHA256</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>&nbsp;<font color="#696969">.</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">visitorID</font></span><span style="background-color: #000000"><font color="#ffffff">))</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">179 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>return</b></font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">ids_hash</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">180 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">181 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">182 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">private</font>&nbsp;<font color="#ffffff">static</font>&nbsp;<font color="#ffffff">function</font>&nbsp;CreateCountsIfNotPresent<span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">183 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">184 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">global</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">185 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_real_escape_string</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">186 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">//check non-unique row</font><br />
<span style="background-color: #000000"><font color="#008888">187 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">SELECT pageid FROM hits WHERE pageid='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><font color="#00bbbb">' AND isunique='0'</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">188 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>if</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span>&nbsp;<font color="#00ffff"><b>===</b></font>&nbsp;<font color="#00ffff">false</font>&nbsp;<font color="#696969">||</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_num_rows</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>&nbsp;<font color="#00ffff"><b>&lt;</b></font>&nbsp;<font color="#00ffff">1</font><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">189 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">190 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">INSERT INTO hits (pageid, isunique, hitcount) VALUES ('</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><font color="#00bbbb">', '0', '0')</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">191 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">192 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">193 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">//check unique row</font><br />
<span style="background-color: #000000"><font color="#008888">194 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">SELECT pageid FROM hits WHERE pageid='</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><font color="#00bbbb">' AND isunique='1'</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">195 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00ffff"><b>if</b></font><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span>&nbsp;<font color="#00ffff"><b>===</b></font>&nbsp;<font color="#00ffff">false</font>&nbsp;<font color="#696969">||</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_num_rows</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">q</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>&nbsp;<font color="#00ffff"><b>&lt;</b></font>&nbsp;<font color="#00ffff">1</font><span style="background-color: #000000"><font color="#ffffff">)</font></span><br />
<span style="background-color: #000000"><font color="#008888">196 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">197 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">INSERT INTO hits (pageid, isunique, hitcount) VALUES('</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">pageID</font></span><font color="#00bbbb">', '1', '0')</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">198 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">echo</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_error</font></span><span style="background-color: #000000"><font color="#ffffff">()</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">199 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">200 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">201 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="background-color: #000000"><font color="#008888">202 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">private</font>&nbsp;<font color="#ffffff">static</font>&nbsp;<font color="#ffffff">function</font>&nbsp;Cleanup<span style="background-color: #000000"><font color="#ffffff">()</font></span><br />
<span style="background-color: #000000"><font color="#008888">203 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">{</font></span><br />
<span style="background-color: #000000"><font color="#008888">204 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">global</font>&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">205 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">last_interval</font></span>&nbsp;<font color="#696969">=</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">time</font></span><span style="background-color: #000000"><font color="#ffffff">()</font></span>&nbsp;<font color="#696969">-</font>&nbsp;HIT_OLD_AFTER_SECONDS;<br />
<span style="background-color: #000000"><font color="#008888">206 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_query</font></span><span style="background-color: #000000"><font color="#ffffff">(</font></span>&quot;<font color="#00bbbb">DELETE FROM nodupes WHERE time &lt; '</font><font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">last_interval</font></span><font color="#00bbbb">'</font>&quot;, <font color="#696969">$</font><span style="background-color: #000000"><font color="#00cccc">phpcount_con</font></span><span style="background-color: #000000"><font color="#ffffff">)</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">207 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffffff">echo</font>&nbsp;<span style="background-color: #000000"><font color="#00ffff">mysql_error</font></span><span style="background-color: #000000"><font color="#ffffff">()</font></span>;<br />
<span style="background-color: #000000"><font color="#008888">208 </font></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
<span style="background-color: #000000"><font color="#008888">209 </font></span><span style="background-color: #000000"><font color="#ffffff">}</font></span><br />
</font>
</div>

