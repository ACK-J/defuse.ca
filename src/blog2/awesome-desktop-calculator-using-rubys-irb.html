<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Awesome Desktop Calculator using Ruby's IRB</title>
        <link rel="stylesheet" href="/blog2/theme/css/main.css" />
        <link href="/blog2/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="The Code Files Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/blog2/">The Code Files </a></h1>
                <nav><ul>
                    <li><a href="/blog2/category/life.html">life</a></li>
                    <li class="active"><a href="/blog2/category/linux.html">linux</a></li>
                    <li><a href="/blog2/category/math.html">math</a></li>
                    <li><a href="/blog2/category/programming.html">programming</a></li>
                    <li><a href="/blog2/category/security.html">security</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/blog2/awesome-desktop-calculator-using-rubys-irb.html" rel="bookmark"
           title="Permalink to Awesome Desktop Calculator using Ruby's IRB">Awesome Desktop Calculator using Ruby's IRB</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-06-09T00:00:00">
                Sat 09 June 2012
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/blog2/author/taylor-hornby.html">Taylor Hornby</a>
        </address>
<p>In <a href="/blog2/category/linux.html">linux</a>. </p>
<p>tags: <a href="/blog2/tag/calculator.html">calculator</a></p>
</footer><!-- /.post-info -->      <p>Ruby is an awesome programming language. Its metaprogramming capabilities make
it easy to turn the interactive ruby interpreter (irb) into an awesome desktop
calculator. To do so, we can make irb execute a ruby script, containing some
calculator extensions before it starts, with the following command:</p>
<pre class="code bash literal-block">
irb -r /path/to/the/file.rb
</pre>
<p>Of course, you will want to make an alias or keyboard shortcut for this. In
bash, this can be done by adding something like the following to ~/.bashrc:</p>
<pre class="code bash literal-block">
<span class="nb">alias </span><span class="nv">rcalc</span><span class="o">=</span><span class="s1">'irb -r /path/to/the/file.rb'</span>
</pre>
<p>Here's a link to my <a class="reference external" href="https://defuse.ca/source/calc.rb">custom ruby calculator script</a>. Here's what it does:</p>
<pre class="code text literal-block">
+----------------------------- RUBY CALCULATOR -------------------------------+
|  0b - Binary    .b - To Binary      Constants: E, PI                        |
|  0x - Hex       .h - To Hex         _ gives last result                     |
|  0  - Octal     .o - To Octal       q quits                                 |
+-----------------------------------------------------------------------------+
|  Window closes after 10 minutes of inactivity. Type 'keepalive' to disable. |
+-----------------------------------------------------------------------------+
irb(main):001:0&gt; 0b11111111
=&gt; 255
irb(main):002:0&gt; _.h
=&gt; &quot;ff&quot;
irb(main):003:0&gt; PI
=&gt; 3.14159265358979
irb(main):004:0&gt; E
=&gt; 2.71828182845905
irb(main):005:0&gt; 2**256 / 3**5
WARNING: Integer division with remainder.
=&gt; 476510655297597512031156316908180690754197467759837712096533267522276253662
irb(main):006:0&gt; 6/3
=&gt; 2
irb(main):007:0&gt; 5.0/2
=&gt; 2.5
irb(main):012:0&gt; sin(PI/2)
=&gt; 1.0
irb(main):008:0&gt;
</pre>
<p>I will be adding functionality to this script as I need it. Some things I'm
planning are:</p>
<ul class="simple">
<li>Unit conversions</li>
<li>Easier way to convert strings in different bases to integers</li>
<li>Efficient factorial function</li>
<li>Common sequences such as Fibonacci</li>
<li>Common formulas</li>
<li>Common constants (c, G, etc.)</li>
</ul>
<p>If you have any ideas, please leave a comment and I'll add it to the list.</p>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/blog2/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://twitter.com/DefuseSec">twitter</a></li>
                            <li><a href="https://github.com/defuse">github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>